# ğŸ¤ èªéŸ³æ§åˆ¶ç³»çµ±å¿«é€ŸæŒ‡å—

## âœ¨ ç³»çµ±ç‰¹è‰²

### 1ï¸âƒ£ è·¨å¹³å°æ”¯æ´
- âœ… iOS (Web Speech API)
- âœ… Android (Web Speech API)  
- âœ… Web (åŸç”Ÿæ”¯æ´)

### 2ï¸âƒ£ è‡ªè¨‚æŒ‡ä»¤
ä½¿ç”¨è€…å¯è‡ªè¨‚ä»»æ„æ–‡å­—è§¸ç™¼ç‰¹å®šå‹•ä½œï¼š
- ã€ŒSã€â†’ æ’­æ”¾å½±ç‰‡
- ã€ŒXã€â†’ æš«åœå½±ç‰‡
- ã€Œå¿«ã€â†’ å¿«è½‰ 10 ç§’

### 3ï¸âƒ£ å…§å»ºæŒ‡ä»¤åº«
å®Œæ•´çš„å½±ç‰‡æ§åˆ¶æŒ‡ä»¤ï¼š
- ğŸ¬ æ’­æ”¾æ§åˆ¶ï¼šæ’­æ”¾ã€æš«åœã€åœæ­¢ã€ä¸‹ä¸€éƒ¨ã€ä¸Šä¸€éƒ¨
- â© é€²åº¦æ§åˆ¶ï¼šå¿«è½‰/å€’è½‰ 10/20/30 ç§’
- ğŸ”Š éŸ³é‡æ§åˆ¶ï¼šæœ€å¤§ã€éœéŸ³ã€èª¿é«˜ã€èª¿ä½
- ğŸ“º å…¨è¢å¹•ï¼šé€²å…¥/é›¢é–‹å…¨è¢å¹•
- âš¡ æ’­æ”¾é€Ÿåº¦ï¼š0.5xã€1xã€1.25xã€1.5xã€2x

### 4ï¸âƒ£ å¤šèªç³»æ”¯æ´
æ”¯æ´ 12 ç¨®èªè¨€ï¼Œèªè¨€åˆ‡æ›å³æ™‚ç”Ÿæ•ˆ

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ­¥é©Ÿ 1ï¼šåŸ·è¡Œç¿»è­¯è…³æœ¬

```bash
node scripts/add-custom-command-translations.js
```

### æ­¥é©Ÿ 2ï¼šåœ¨è¨­å®šé é¢æ–°å¢è‡ªè¨‚æŒ‡ä»¤ç®¡ç†

```tsx
import { CustomCommandManager } from '@/components/CustomCommandManager';

function SettingsScreen() {
  return (
    <View>
      <CustomCommandManager />
    </View>
  );
}
```

### æ­¥é©Ÿ 3ï¼šåœ¨å½±ç‰‡æ’­æ”¾å™¨æ•´åˆèªéŸ³æ§åˆ¶

```tsx
import { useUnifiedVoiceControl } from '@/providers/UnifiedVoiceControlProvider';

function VideoPlayer() {
  const voice = useUnifiedVoiceControl();

  // ç›£è½èªéŸ³æŒ‡ä»¤
  useEffect(() => {
    const handleVoiceCommand = (event: CustomEvent) => {
      const { intent, action, slot } = event.detail;
      
      switch (intent) {
        case 'playback_control':
          if (action === 'play') videoRef.current?.play();
          if (action === 'pause') videoRef.current?.pause();
          break;
        
        case 'seek_control':
          if (action === 'forward') {
            const seconds = slot?.seconds || 10;
            videoRef.current?.seek(currentTime + seconds);
          }
          break;
      }
    };

    window.addEventListener('voiceCommand', handleVoiceCommand);
    return () => window.removeEventListener('voiceCommand', handleVoiceCommand);
  }, []);

  return (
    <View>
      <Video ref={videoRef} />
      
      <TouchableOpacity onPress={() => voice.startListening()}>
        <Text>{voice.isListening ? 'è†è½ä¸­...' : 'é–‹å§‹èªéŸ³æ§åˆ¶'}</Text>
      </TouchableOpacity>
    </View>
  );
}
```

---

## ğŸ“ ä½¿ç”¨ç¯„ä¾‹

### æ–°å¢è‡ªè¨‚æŒ‡ä»¤

```tsx
import { useCustomCommands } from '@/providers/CustomCommandProvider';

function MyComponent() {
  const { addCommand } = useCustomCommands();

  const handleAddCustomCommand = async () => {
    // æ–°å¢ã€ŒSã€è§¸ç™¼æ’­æ”¾
    await addCommand('s', 'playback_control', 'play');
    
    // æ–°å¢ã€ŒXã€è§¸ç™¼æš«åœ
    await addCommand('x', 'playback_control', 'pause');
    
    // æ–°å¢ã€Œå¿«ã€è§¸ç™¼å¿«è½‰ 10 ç§’
    await addCommand('å¿«', 'seek_control', 'forward', { seconds: 10 });
  };

  return (
    <Button onPress={handleAddCustomCommand}>
      æ–°å¢è‡ªè¨‚æŒ‡ä»¤
    </Button>
  );
}
```

### èª¿æ•´ä¿¡å¿ƒé–¾å€¼

```tsx
import { useUnifiedVoiceControl } from '@/providers/UnifiedVoiceControlProvider';

function Settings() {
  const { setConfidenceThreshold } = useUnifiedVoiceControl();

  return (
    <View>
      <Text>è¾¨è­˜éˆæ•åº¦</Text>
      <Slider
        minimumValue={0}
        maximumValue={1}
        step={0.1}
        onValueChange={setConfidenceThreshold}
      />
    </View>
  );
}
```

---

## ğŸ¯ æŒ‡ä»¤åŸ·è¡Œæµç¨‹

```
ä½¿ç”¨è€…èªªè©±
  â†“
èªéŸ³è¾¨è­˜ (Web Speech API)
  â†“
å–å¾—æ–‡å­— + ä¿¡å¿ƒåˆ†æ•¸
  â†“
æŒ‡ä»¤è§£æ
  â”œâ”€ å„ªå…ˆï¼šè‡ªè¨‚æŒ‡ä»¤
  â””â”€ æ¬¡è¦ï¼šå…§å»ºæŒ‡ä»¤
  â†“
ä¿¡å¿ƒåˆ†æ•¸åˆ¤æ–·
  â”œâ”€ >= é–¾å€¼ â†’ åŸ·è¡Œ
  â””â”€ < é–¾å€¼ â†’ æç¤ºé‡è©¦
  â†“
ç™¼é€ voiceCommand äº‹ä»¶
  â†“
å½±ç‰‡æ’­æ”¾å™¨åŸ·è¡Œå‹•ä½œ
```

---

## ğŸ”§ å¸¸è¦‹å•é¡Œ

### Q: èªéŸ³è¾¨è­˜ä¸å·¥ä½œï¼Ÿ

**æª¢æŸ¥é …ç›®**:
1. âœ… éº¥å…‹é¢¨æ¬Šé™å·²æˆäºˆ
2. âœ… ç€è¦½å™¨æ”¯æ´ Web Speech API
3. âœ… ä½¿ç”¨ HTTPS (Web å¹³å°)
4. âœ… æª¢æŸ¥ Console éŒ¯èª¤è¨Šæ¯

### Q: è‡ªè¨‚æŒ‡ä»¤æ²’æœ‰è§¸ç™¼ï¼Ÿ

**æª¢æŸ¥é …ç›®**:
1. âœ… æŒ‡ä»¤å·²å•Ÿç”¨ (enabled: true)
2. âœ… èªªçš„æ–‡å­—èˆ‡æŒ‡ä»¤æ–‡å­—åŒ¹é…
3. âœ… æª¢æŸ¥ Console æ—¥èªŒ

### Q: å¦‚ä½•æé«˜è¾¨è­˜æº–ç¢ºåº¦ï¼Ÿ

**æ–¹æ³•**:
1. æé«˜ä¿¡å¿ƒé–¾å€¼ (0.7-0.9)
2. ä½¿ç”¨ç°¡çŸ­æ˜ç¢ºçš„æŒ‡ä»¤æ–‡å­—
3. åœ¨å®‰éœç’°å¢ƒä¸‹ä½¿ç”¨
4. æ¸…æ¥šç™¼éŸ³

---

## ğŸ“Š ç³»çµ±æ¶æ§‹

```
CustomCommandProvider (è‡ªè¨‚æŒ‡ä»¤ç®¡ç†)
  â†“
VoiceControlProvider (åŸæœ‰èªéŸ³æ§åˆ¶)
  â†“
UnifiedVoiceControlProvider (çµ±ä¸€èªéŸ³æ§åˆ¶)
  â†“
SiriIntegrationProvider (Siri æ•´åˆ)
```

---

## ğŸ¨ UI å…ƒä»¶

### CustomCommandManager
å®Œæ•´çš„è‡ªè¨‚æŒ‡ä»¤ç®¡ç†ä»‹é¢ï¼š
- â• æ–°å¢æŒ‡ä»¤
- âœï¸ ç·¨è¼¯æŒ‡ä»¤
- ğŸ—‘ï¸ åˆªé™¤æŒ‡ä»¤
- ğŸ”„ å•Ÿç”¨/åœç”¨æŒ‡ä»¤
- ğŸ¯ é¸æ“‡æ„åœ–èˆ‡å‹•ä½œ

---

## ğŸ”’ éš±ç§èˆ‡å®‰å…¨

### å®Œå…¨æœ¬åœ°è™•ç†
- âœ… èªéŸ³è¾¨è­˜åœ¨è£ç½®ä¸Šé€²è¡Œ
- âœ… è‡ªè¨‚æŒ‡ä»¤å„²å­˜åœ¨æœ¬åœ°
- âœ… ä¸å‚³é€ä»»ä½•è³‡æ–™è‡³ä¼ºæœå™¨

### æ¬Šé™ç®¡ç†
- âœ… éº¥å…‹é¢¨æ¬Šé™è«‹æ±‚
- âœ… èªéŸ³è¾¨è­˜æ¬Šé™è«‹æ±‚ (iOS)
- âœ… æ¸…æ¥šçš„æ¬Šé™èªªæ˜

---

## ğŸ“š å®Œæ•´æ–‡ä»¶

è©³ç´°æŠ€è¡“æ–‡ä»¶è«‹åƒè€ƒï¼š[VOICE_CONTROL_SYSTEM.md](./VOICE_CONTROL_SYSTEM.md)

---

## ğŸ‰ é–‹å§‹ä½¿ç”¨

1. åŸ·è¡Œç¿»è­¯è…³æœ¬
2. æ•´åˆ CustomCommandManager åˆ°è¨­å®šé é¢
3. åœ¨å½±ç‰‡æ’­æ”¾å™¨ç›£è½ voiceCommand äº‹ä»¶
4. æ¸¬è©¦å…§å»ºèˆ‡è‡ªè¨‚æŒ‡ä»¤

**å°±æ˜¯é€™éº¼ç°¡å–®ï¼** ğŸš€

---

**æœ€å¾Œæ›´æ–°**: 2025-10-04
