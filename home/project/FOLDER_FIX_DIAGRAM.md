# è³‡æ–™å¤¾æ•¸å­—ä¿®æ­£ - è¦–è¦ºåŒ–æµç¨‹åœ–

## ğŸ”´ å•é¡Œæµç¨‹ (Before Fix)

```
ä½¿ç”¨è€…é»æ“Šã€Œæ–°å¢è³‡æ–™å¤¾ã€
         â†“
è¼¸å…¥è³‡æ–™å¤¾åç¨±: "å–µå–µ"
         â†“
å»ºç«‹è³‡æ–™å¤¾ç‰©ä»¶
{
  id: "123",
  name: "å–µå–µ",
  count: undefined  â† å•é¡Œï¼æœªåˆå§‹åŒ–
}
         â†“
å„²å­˜åˆ° AsyncStorage
         â†“
è®€å–ä¸¦é¡¯ç¤º
         â†“
count ç‚º undefined
         â†“
è½‰æ›ç‚ºå­—ä¸²æ™‚å‡ºéŒ¯
         â†“
âŒ é¡¯ç¤ºäº‚ç¢¼: "Ã¶"
```

## ğŸŸ¢ ä¿®æ­£æµç¨‹ (After Fix)

```
ä½¿ç”¨è€…é»æ“Šã€Œæ–°å¢è³‡æ–™å¤¾ã€
         â†“
è¼¸å…¥è³‡æ–™å¤¾åç¨±: "å–µå–µ"
         â†“
FolderProvider.addFolder("å–µå–µ")
         â†“
å»ºç«‹è³‡æ–™å¤¾ç‰©ä»¶
{
  id: "1704326400000",
  name: "å–µå–µ",
  count: 0,  â† âœ… æ˜ç¢ºåˆå§‹åŒ–ç‚º 0
  createdAt: "2025-01-04T00:00:00.000Z",
  updatedAt: "2025-01-04T00:00:00.000Z"
}
         â†“
å‹åˆ¥é©—è­‰
typeof count === 'number' âœ…
!isNaN(count) âœ…
         â†“
å„²å­˜åˆ° AsyncStorage
JSON.stringify(folders)
         â†“
è®€å–æ™‚é©—è­‰
validatedFolders = folders.map(f => ({
  ...f,
  count: typeof f.count === 'number' ? f.count : 0
}))
         â†“
é¡¯ç¤ºåœ¨ UI
         â†“
âœ… æ­£ç¢ºé¡¯ç¤º: "0"
```

## ğŸ“Š è³‡æ–™æµç¨‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FolderProvider                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  State: folders: Folder[]                      â”‚    â”‚
â”‚  â”‚         isLoading: boolean                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Methods:                                      â”‚    â”‚
â”‚  â”‚  â€¢ addFolder(name)                             â”‚    â”‚
â”‚  â”‚  â€¢ deleteFolder(id)                            â”‚    â”‚
â”‚  â”‚  â€¢ updateFolderCount(id, count)                â”‚    â”‚
â”‚  â”‚  â€¢ getFolderById(id)                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Validation:                                   â”‚    â”‚
â”‚  â”‚  â€¢ On Load: Fix invalid counts                 â”‚    â”‚
â”‚  â”‚  â€¢ On Create: Initialize count = 0             â”‚    â”‚
â”‚  â”‚  â€¢ On Update: Validate number type             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AsyncStorage                          â”‚
â”‚  Key: "@folders"                                         â”‚
â”‚  Value: JSON string                                      â”‚
â”‚  [                                                       â”‚
â”‚    {                                                     â”‚
â”‚      "id": "1704326400000",                              â”‚
â”‚      "name": "å–µå–µ",                                      â”‚
â”‚      "count": 0,  â† Always a number                     â”‚
â”‚      "createdAt": "2025-01-04T00:00:00.000Z",           â”‚
â”‚      "updatedAt": "2025-01-04T00:00:00.000Z"            â”‚
â”‚    }                                                     â”‚
â”‚  ]                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FolderList Component                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Display:                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚  â”‚  ğŸ“ å–µå–µ                              â”‚     â”‚    â”‚
â”‚  â”‚  â”‚     0 bookmarks  â† âœ… Correct!       â”‚     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â”‚                                                â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚  â”‚  ğŸ“ ë‰´ìŠ¤                              â”‚     â”‚    â”‚
â”‚  â”‚  â”‚     0 bookmarks  â† âœ… Correct!       â”‚     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ é©—è­‰å¾ªç’°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. è¼‰å…¥è³‡æ–™ (Load Data)                          â”‚
â”‚     AsyncStorage.getItem('@folders')             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. è§£æ JSON (Parse JSON)                        â”‚
â”‚     JSON.parse(stored)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. é©—è­‰æ¯å€‹è³‡æ–™å¤¾ (Validate Each Folder)         â”‚
â”‚     folders.map(folder => {                      â”‚
â”‚       count: typeof folder.count === 'number'    â”‚
â”‚              ? folder.count                      â”‚
â”‚              : 0                                 â”‚
â”‚     })                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æ›´æ–°ç‹€æ…‹ (Update State)                       â”‚
â”‚     setFolders(validatedFolders)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. æ¸²æŸ“ UI (Render UI)                           â”‚
â”‚     {folder.count} bookmarks                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ ä¿®å¾©å·¥å…·æµç¨‹

```
åŸ·è¡Œä¿®å¾©è…³æœ¬
npx ts-node scripts/fix-folder-counts.ts
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. é©—è­‰è³‡æ–™ (Validate Data)             â”‚
â”‚     validateFolderData()                â”‚
â”‚     â€¢ æª¢æŸ¥ ID                            â”‚
â”‚     â€¢ æª¢æŸ¥åç¨±                           â”‚
â”‚     â€¢ æª¢æŸ¥ count å‹åˆ¥                    â”‚
â”‚     â€¢ æª¢æŸ¥ count ç¯„åœ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         æœ‰å•é¡Œï¼Ÿ
         /    \
       æ˜¯      å¦
       â†“       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¿®å¾©è³‡æ–™  â”‚  â”‚ å®Œæˆ     â”‚
â”‚ Fix Data â”‚  â”‚ Done     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ä¿®æ­£ count (Fix Counts)              â”‚
â”‚     fixFolderCounts()                   â”‚
â”‚     â€¢ æ•¸å­— â†’ ä¿æŒ                        â”‚
â”‚     â€¢ å­—ä¸² â†’ parseInt                    â”‚
â”‚     â€¢ null/undefined â†’ 0                â”‚
â”‚     â€¢ NaN â†’ 0                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. å„²å­˜ä¿®æ­£å¾Œçš„è³‡æ–™                      â”‚
â”‚     AsyncStorage.setItem()              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. é‡æ–°é©—è­‰ (Re-validate)               â”‚
â”‚     validateFolderData()                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         å…¨éƒ¨æ­£ç¢ºï¼Ÿ
         /    \
       æ˜¯      å¦
       â†“       â†“
    âœ… æˆåŠŸ   âš ï¸ è­¦å‘Š
```

## ğŸ¯ å‹åˆ¥è½‰æ›é‚è¼¯

```
è¼¸å…¥ count å€¼
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  typeof count === 'number'?             â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     æ˜¯                       å¦
      â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ !isNaN?  â”‚         â”‚ typeof === 'string'? â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    æ˜¯â”‚å¦                æ˜¯â”‚å¦
     â†“ â†“                  â†“ â†“
    âœ… 0            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 0
    ä¿æŒ            â”‚ parseInt â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                        æ˜¯â”‚å¦
                         â†“ â†“
                        âœ… 0
                        ä½¿ç”¨
```

## ğŸ“± UI é¡¯ç¤ºæµç¨‹

```
FolderList Component
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  const { folders } = useFolders()       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  folders.map(folder => ...)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <View>                                 â”‚
â”‚    <FolderIcon />                       â”‚
â”‚    <Text>{folder.name}</Text>           â”‚
â”‚    <Text>                               â”‚
â”‚      {folder.count} {t('bookmarks')}    â”‚
â”‚    </Text>                              â”‚
â”‚  </View>                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
         æ¸²æŸ“çµæœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ å–µå–µ                                 â”‚
â”‚     0 bookmarks                         â”‚
â”‚                                         â”‚
â”‚  ğŸ“ ë‰´ìŠ¤                                 â”‚
â”‚     0 bookmarks                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” å®‰å…¨æª¢æŸ¥å±¤ç´š

```
Level 1: TypeScript å‹åˆ¥ç³»çµ±
         â†“
    count: number  â† ç·¨è­¯æ™‚æª¢æŸ¥
         â†“
Level 2: å»ºç«‹æ™‚é©—è­‰
         â†“
    count: 0  â† æ˜ç¢ºåˆå§‹åŒ–
         â†“
Level 3: è¼‰å…¥æ™‚é©—è­‰
         â†“
    typeof count === 'number' ? count : 0
         â†“
Level 4: æ›´æ–°æ™‚é©—è­‰
         â†“
    const validCount = 
      typeof count === 'number' && !isNaN(count)
        ? count
        : 0
         â†“
Level 5: é¡¯ç¤ºæ™‚æª¢æŸ¥
         â†“
    {folder.count || 0}
         â†“
    âœ… å¤šå±¤ä¿è­·ï¼Œç¢ºä¿æ­£ç¢º
```

## ğŸ“Š æ•ˆèƒ½å„ªåŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FolderProvider                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  useMemo                          â”‚  â”‚
â”‚  â”‚  â€¢ å¿«å– context value             â”‚  â”‚
â”‚  â”‚  â€¢ é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  useCallback                      â”‚  â”‚
â”‚  â”‚  â€¢ addFolder                      â”‚  â”‚
â”‚  â”‚  â€¢ deleteFolder                   â”‚  â”‚
â”‚  â”‚  â€¢ updateFolderCount              â”‚  â”‚
â”‚  â”‚  â€¢ getFolderById                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ å¤šèªç³»æ”¯æ´

```
Translation Files
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  en.json                             â”‚
â”‚  {                                   â”‚
â”‚    "folders": "Folders",             â”‚
â”‚    "bookmarks": "bookmarks"          â”‚
â”‚  }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ko.json                             â”‚
â”‚  {                                   â”‚
â”‚    "folders": "í´ë”",                 â”‚
â”‚    "bookmarks": "ë¶ë§ˆí¬"              â”‚
â”‚  }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  zh-TW.json                          â”‚
â”‚  {                                   â”‚
â”‚    "folders": "è³‡æ–™å¤¾",               â”‚
â”‚    "bookmarks": "æ›¸ç±¤"                â”‚
â”‚  }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    useTranslation()
         â†“
    t('bookmarks')
         â†“
    æ ¹æ“šç•¶å‰èªè¨€é¡¯ç¤º
```

## ğŸ¨ å…ƒä»¶æ¶æ§‹

```
App
 â””â”€ FolderProvider  â† ç‹€æ…‹ç®¡ç†
     â””â”€ FolderList  â† UI å…ƒä»¶
         â”œâ”€ Header
         â”‚   â”œâ”€ Title: "Folders"
         â”‚   â””â”€ Add Button (+)
         â”œâ”€ Stats
         â”‚   â”œâ”€ Total Folders: 2
         â”‚   â””â”€ Total Bookmarks: 0
         â””â”€ Folder Items
             â”œâ”€ Folder 1
             â”‚   â”œâ”€ Icon (ğŸ“)
             â”‚   â”œâ”€ Name: "å–µå–µ"
             â”‚   â””â”€ Count: "0 bookmarks"
             â””â”€ Folder 2
                 â”œâ”€ Icon (ğŸ“)
                 â”œâ”€ Name: "ë‰´ìŠ¤"
                 â””â”€ Count: "0 bookmarks"
```

## ğŸ”„ å®Œæ•´ç”Ÿå‘½é€±æœŸ

```
1. App å•Ÿå‹•
   â””â”€ FolderProvider åˆå§‹åŒ–
      â””â”€ loadFolders()
         â””â”€ AsyncStorage.getItem('@folders')
            â””â”€ é©—è­‰ä¸¦è¼‰å…¥è³‡æ–™

2. ä½¿ç”¨è€…æ“ä½œ
   â”œâ”€ æ–°å¢è³‡æ–™å¤¾
   â”‚  â””â”€ addFolder(name)
   â”‚     â””â”€ å»ºç«‹ count: 0
   â”‚        â””â”€ å„²å­˜åˆ° AsyncStorage
   â”‚           â””â”€ æ›´æ–° UI
   â”‚
   â”œâ”€ åˆªé™¤è³‡æ–™å¤¾
   â”‚  â””â”€ deleteFolder(id)
   â”‚     â””â”€ å¾é™£åˆ—ç§»é™¤
   â”‚        â””â”€ å„²å­˜åˆ° AsyncStorage
   â”‚           â””â”€ æ›´æ–° UI
   â”‚
   â””â”€ æ›´æ–°æ•¸é‡
      â””â”€ updateFolderCount(id, count)
         â””â”€ é©—è­‰ count
            â””â”€ æ›´æ–°è³‡æ–™å¤¾
               â””â”€ å„²å­˜åˆ° AsyncStorage
                  â””â”€ æ›´æ–° UI

3. App é—œé–‰
   â””â”€ è³‡æ–™å·²æŒä¹…åŒ–åœ¨ AsyncStorage
```

## âœ… é©—æ”¶æ¨™æº–

```
æ¸¬è©¦é …ç›®                     é æœŸçµæœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ–°å¢è³‡æ–™å¤¾                   âœ… é¡¯ç¤º "0"
è³‡æ–™å‹åˆ¥                     âœ… number
å¤šèªç³»åˆ‡æ›                   âœ… æ­£ç¢ºé¡¯ç¤º
Unicode åç¨±                 âœ… æ”¯æ´
é‡æ–°è¼‰å…¥                     âœ… è³‡æ–™ä¿ç•™
ä¿®å¾©è…³æœ¬                     âœ… ä¿®æ­£äº‚ç¢¼
æ•ˆèƒ½                         âœ… æµæš¢
éŒ¯èª¤è™•ç†                     âœ… å‹å–„æç¤º
```

---

**åœ–è¡¨èªªæ˜ï¼š**
- ğŸ”´ ç´…è‰²ï¼šå•é¡Œæµç¨‹
- ğŸŸ¢ ç¶ è‰²ï¼šä¿®æ­£æµç¨‹
- âœ… ç¶ å‹¾ï¼šæ­£ç¢ºç‹€æ…‹
- âŒ ç´…å‰ï¼šéŒ¯èª¤ç‹€æ…‹
- âš ï¸ è­¦å‘Šï¼šéœ€è¦æ³¨æ„
- ğŸ“ è³‡æ–™å¤¾åœ–ç¤º
- ğŸ”„ å¾ªç’°æµç¨‹
- â†“ æµç¨‹æ–¹å‘
